Ok, some notes

You can run a bash script in Ruby, and record its output, by surrounding the script in backticks

wmctrl -d lists info about current desktops
`wmctrl -d`[/[0-9]  \*/][0] returns the current desktop to your Ruby program 

wmctrl -s 3 changes the desktop to 3

There are also commands to move specific windows to specific desktops

Someone in a SO post suggested sleep 2 and then issuing an open command, to ensure that windows opened in the new window. 

btw wmctrl is a dependency, it needs to be installed. 

So how about this:

begin
  new_desktop = `wmctrl -d`[/[0-9]  \*/][0]
  `wctrl -s #{new_desktop}` # this might not work for fourth desktops or greater - but maybe it will if lower desktops already exist??
  sleep 1
  ## open things

rescue
  puts "you need to install a dependency, wmctrl." 
  puts "\t sudo apt-get install wmctrl"
  puts "has been issued. Enter your password to install the dependency, or ^C to cancel the install."
`sudo apt-get install wmctrl`
end
